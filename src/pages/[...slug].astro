---
import client from '@lib/client';
import BlogPostPage from '@templates/BlogPostPage.astro'
import ProjectPage from '@templates/ProjectPage.astro'

const { slug } = Astro.params;

if (!slug) {
  return Astro.rewrite('/404')
}

// try to get post
const post = await client.api.posts({
  slug,
}).get()

if (!post.data) return Astro.rewrite('/404')


---
{post && <BlogPostPage post={post.data} />}
{/*page && page._type === 'project' && <ProjectPage project={page} />*/}
