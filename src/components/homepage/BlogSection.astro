---
import { Icon } from "astro-icon/components";
import { getCollection } from 'astro:content';

import BlogPostsCard from "./BlogPostCard.astro";

const posts = await getCollection("blog");

---
<section class="max-w-6xl mx-auto my-8 px-4">
    <h2 class="text-lg font-semibold mb-2">Blog</h2>

    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-2">
        {posts.slice(0, 3).map(post =>
            <BlogPostsCard
                post={post}
            />
        )}
    </div>

    <a class="flex items-center gap-1 text-zinc-300" href="/blog">
        See all posts
        <Icon name="tabler:arrow-right" />
    </a>
</section>