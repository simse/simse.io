---
interface Props {
    title: string;
}

const { title } = Astro.props;
---
<script>
    function parseToShortestNumber(value: number): number {
        if (value === 0) return 0;

        // Handle very small numbers to retain significant digits
        if (Math.abs(value) < 0.0001) {
            return parseFloat(value.toPrecision(1));
        }

        // For other numbers, round to one decimal place
        return parseFloat(value.toFixed(1));
    }

    import { Chart, LineController, LineElement, PointElement, LinearScale, CategoryScale, TimeScale } from "chart.js";
    import 'chartjs-adapter-luxon';

    Chart.register(LineController, LineElement, PointElement, LinearScale, CategoryScale, TimeScale);
    Chart.defaults.font.family = "Soehne, sans-serif";
    Chart.defaults.font.size = 16;
    Chart.defaults.animation = false;
    Chart.defaults.backgroundColor = 'rgba(0, 0, 0, 0)';
    Chart.defaults.borderColor = 'rgba(0, 0, 0, 0)';
    Chart.defaults.color = '#d4d4d8';

    let chart: Chart;

    const inputData = {"bun":{"1256947200000":0.0,"1259539200000":0.0,"1262217600000":0.0,"1264896000000":0.0,"1267315200000":0.0,"1269993600000":0.0,"1272585600000":0.0,"1275264000000":0.0,"1277856000000":0.0,"1280534400000":0.0,"1283212800000":0.0,"1285804800000":0.0,"1288483200000":0.0,"1291075200000":0.0,"1293753600000":0.0,"1296432000000":0.0,"1298851200000":0.0,"1301529600000":0.0,"1304121600000":0.0,"1306800000000":0.0,"1309392000000":0.0,"1312070400000":0.0,"1314748800000":0.0,"1317340800000":0.0,"1320019200000":0.0,"1322611200000":0.0,"1325289600000":0.0,"1327968000000":0.0,"1330473600000":0.0,"1333152000000":0.0,"1335744000000":0.0,"1338422400000":0.0,"1341014400000":0.0,"1343692800000":0.0,"1346371200000":0.0,"1348963200000":0.0,"1351641600000":0.0,"1354233600000":0.0,"1356912000000":0.0,"1359590400000":0.0,"1362009600000":0.0,"1364688000000":0.0,"1367280000000":0.0,"1369958400000":0.0,"1372550400000":0.0,"1375228800000":0.0,"1377907200000":0.0,"1380499200000":0.0,"1383177600000":0.0,"1385769600000":0.0,"1388448000000":0.0,"1391126400000":0.0,"1393545600000":0.0,"1396224000000":0.0,"1398816000000":0.0,"1401494400000":0.0,"1404086400000":0.0,"1406764800000":0.0,"1409443200000":0.0,"1412035200000":0.0,"1414713600000":0.0,"1417305600000":0.0,"1419984000000":0.0,"1422662400000":0.0,"1425081600000":0.0,"1427760000000":0.0,"1430352000000":0.0,"1433030400000":0.0,"1435622400000":0.0,"1438300800000":0.0,"1440979200000":0.0,"1443571200000":0.0,"1446249600000":0.0,"1448841600000":0.0,"1451520000000":0.0,"1454198400000":0.0,"1456704000000":0.0,"1459382400000":0.0,"1461974400000":0.0,"1464652800000":0.0,"1467244800000":0.0,"1469923200000":0.0,"1472601600000":0.0,"1475193600000":0.0,"1477872000000":0.0,"1480464000000":0.0,"1483142400000":0.0,"1485820800000":0.0,"1488240000000":0.0,"1490918400000":0.0,"1493510400000":0.0,"1496188800000":0.0,"1498780800000":0.0,"1501459200000":0.0,"1504137600000":0.0,"1506729600000":0.0,"1509408000000":0.0,"1512000000000":0.0,"1514678400000":0.0,"1517356800000":0.0,"1519776000000":0.0,"1522454400000":0.0,"1525046400000":0.0,"1527724800000":0.0,"1530316800000":0.0,"1532995200000":0.0,"1535673600000":0.0,"1538265600000":0.0,"1540944000000":0.0,"1543536000000":0.0,"1546214400000":0.0,"1548892800000":0.0,"1551312000000":0.0,"1553990400000":0.0,"1556582400000":0.0,"1559260800000":0.0,"1561852800000":0.0,"1564531200000":0.0,"1567209600000":0.0,"1569801600000":0.0,"1572480000000":0.0,"1575072000000":0.0,"1577750400000":0.0,"1580428800000":0.0,"1582934400000":0.0,"1585612800000":0.0,"1588204800000":0.0,"1590883200000":0.0,"1593475200000":0.0,"1596153600000":0.0,"1598832000000":0.0,"1601424000000":0.0,"1604102400000":0.0,"1606694400000":0.0,"1609372800000":0.0,"1612051200000":0.0,"1614470400000":0.0,"1617148800000":0.0,"1619740800000":0.0,"1622419200000":0.0,"1625011200000":0.0,"1627689600000":0.0,"1630368000000":0.0,"1632960000000":0.0,"1635638400000":0.0,"1638230400000":0.0,"1640908800000":0.0,"1643587200000":0.0,"1646006400000":0.0,"1648684800000":0.0,"1651276800000":0.019138756,"1653955200000":0.0188536953,"1656547200000":0.0185770017,"1659225600000":0.054894785,"1661904000000":0.0539665407,"1664496000000":0.052984811,"1667174400000":0.0347463516,"1669766400000":0.0343112026,"1672444800000":0.033869602,"1675123200000":0.0332778702,"1677542400000":0.0491078736,"1680220800000":0.0483169593,"1682812800000":0.0476190476,"1685491200000":0.0626664578,"1688083200000":0.0465116279,"1690761600000":0.0612369871,"1693440000000":0.0758495146,"1696032000000":0.3007971123,"1698710400000":0.3422109805,"1701302400000":0.3689492326,"1703980800000":0.4833040422,"1706659200000":0.522875817,"1709164800000":0.5915452316,"1711843200000":0.7140816909,"1714435200000":0.8239806791,"1717113600000":0.8249440716,"1719705600000":0.8141299848,"1722384000000":0.8547008547,"1725062400000":0.9145931406},"yarn_v1":{"1256947200000":0.0,"1259539200000":0.0,"1262217600000":0.0,"1264896000000":0.0,"1267315200000":0.0,"1269993600000":0.0,"1272585600000":0.0,"1275264000000":0.0,"1277856000000":0.0,"1280534400000":0.0,"1283212800000":0.0,"1285804800000":0.0,"1288483200000":0.0,"1291075200000":0.0,"1293753600000":0.0,"1296432000000":0.0,"1298851200000":0.0,"1301529600000":0.0,"1304121600000":0.0,"1306800000000":0.0,"1309392000000":0.0,"1312070400000":0.0,"1314748800000":0.0,"1317340800000":0.0,"1320019200000":0.0,"1322611200000":0.0,"1325289600000":0.0,"1327968000000":0.0,"1330473600000":0.0,"1333152000000":0.0,"1335744000000":0.0,"1338422400000":0.0,"1341014400000":0.0,"1343692800000":0.0,"1346371200000":0.0,"1348963200000":0.0,"1351641600000":0.0,"1354233600000":0.0,"1356912000000":0.0,"1359590400000":0.0,"1362009600000":0.0,"1364688000000":0.0,"1367280000000":0.0,"1369958400000":0.0,"1372550400000":0.0,"1375228800000":0.0,"1377907200000":0.0,"1380499200000":0.0,"1383177600000":0.0,"1385769600000":0.0,"1388448000000":0.0,"1391126400000":0.0,"1393545600000":0.0,"1396224000000":0.0,"1398816000000":0.0,"1401494400000":0.0,"1404086400000":0.0,"1406764800000":0.0,"1409443200000":0.0,"1412035200000":0.0,"1414713600000":0.0,"1417305600000":0.0,"1419984000000":0.0,"1422662400000":0.0,"1425081600000":0.1499250375,"1427760000000":0.1373626374,"1430352000000":0.1290322581,"1433030400000":0.1231527094,"1435622400000":0.1175088132,"1438300800000":0.1122334456,"1440979200000":0.1060445387,"1443571200000":0.1015228426,"1446249600000":0.0957854406,"1448841600000":0.0913242009,"1451520000000":0.0877963126,"1454198400000":0.0847457627,"1456704000000":0.0808407437,"1459382400000":0.0786163522,"1461974400000":0.0755857899,"1464652800000":0.0729394602,"1467244800000":0.0701262272,"1469923200000":0.0679347826,"1472601600000":0.0658327847,"1475193600000":0.1277139208,"1477872000000":3.6832412523,"1480464000000":6.6115702479,"1483142400000":9.6810933941,"1485820800000":12.8531855956,"1488240000000":14.5945945946,"1490918400000":16.8756530825,"1493510400000":19.4105691057,"1496188800000":20.8725830441,"1498780800000":20.4071740184,"1501459200000":20.9600760456,"1504137600000":21.1699164345,"1506729600000":21.2397447584,"1509408000000":21.6711349419,"1512000000000":22.1640488656,"1514678400000":21.895006402,"1517356800000":22.2501045588,"1519776000000":22.6058364159,"1522454400000":22.8295819936,"1525046400000":23.2311320755,"1527724800000":23.1688511951,"1530316800000":23.1090839985,"1532995200000":23.1318062336,"1535673600000":23.6208811551,"1538265600000":24.1176470588,"1540944000000":24.9003262051,"1543536000000":24.6702317291,"1546214400000":25.1410437236,"1548892800000":25.7439446367,"1551312000000":26.1061946903,"1553990400000":26.3475058587,"1556582400000":26.6534391534,"1559260800000":26.6536964981,"1561852800000":26.7982176957,"1564531200000":26.6562009419,"1567209600000":26.5344079355,"1569801600000":26.9700671961,"1572480000000":27.5075075075,"1575072000000":27.9207335108,"1577750400000":27.8443989471,"1580428800000":27.5316455696,"1582934400000":27.3348519362,"1585612800000":27.6500280426,"1588204800000":27.967032967,"1590883200000":28.398384926,"1593475200000":28.5904255319,"1596153600000":28.3957079299,"1598832000000":28.8471435924,"1601424000000":28.7234042553,"1604102400000":28.8922155689,"1606694400000":29.2303897385,"1609372800000":29.4821690278,"1612051200000":29.6180638962,"1614470400000":29.6164772727,"1617148800000":29.6562935439,"1619740800000":29.4587805435,"1622419200000":29.4751009421,"1625011200000":29.642699603,"1627689600000":29.8653344917,"1630368000000":29.5236060671,"1632960000000":29.5727215323,"1635638400000":29.5020746888,"1638230400000":29.4407894737,"1640908800000":29.2307692308,"1643587200000":29.213036566,"1646006400000":29.2304672163,"1648684800000":29.0291262136,"1651276800000":28.8995215311,"1653955200000":28.4125188537,"1656547200000":28.2184655397,"1659225600000":27.6303751144,"1661904000000":27.2531030761,"1664496000000":26.7926527729,"1667174400000":26.4593467686,"1669766400000":26.1794475896,"1672444800000":25.8763759526,"1675123200000":25.5574043261,"1677542400000":25.2250777541,"1680220800000":24.6416492189,"1682812800000":24.2380952381,"1685491200000":23.8132539558,"1688083200000":23.5503875969,"1690761600000":23.1628903858,"1693440000000":22.9975728155,"1696032000000":22.800421116,"1698710400000":22.5412884987,"1701302400000":22.0779220779,"1703980800000":21.7486818981,"1706659200000":21.510530138,"1709164800000":21.2379166066,"1711843200000":20.8083404742,"1714435200000":20.6137235403,"1717113600000":20.1901565996,"1719705600000":19.8564923417,"1722384000000":19.5088861756,"1725062400000":19.3140551446},"npm":{"1256947200000":100.0,"1259539200000":100.0,"1262217600000":100.0,"1264896000000":100.0,"1267315200000":100.0,"1269993600000":100.0,"1272585600000":100.0,"1275264000000":100.0,"1277856000000":100.0,"1280534400000":100.0,"1283212800000":100.0,"1285804800000":100.0,"1288483200000":100.0,"1291075200000":100.0,"1293753600000":100.0,"1296432000000":100.0,"1298851200000":100.0,"1301529600000":100.0,"1304121600000":100.0,"1306800000000":100.0,"1309392000000":100.0,"1312070400000":100.0,"1314748800000":100.0,"1317340800000":100.0,"1320019200000":100.0,"1322611200000":100.0,"1325289600000":100.0,"1327968000000":100.0,"1330473600000":100.0,"1333152000000":100.0,"1335744000000":100.0,"1338422400000":100.0,"1341014400000":100.0,"1343692800000":100.0,"1346371200000":100.0,"1348963200000":100.0,"1351641600000":100.0,"1354233600000":100.0,"1356912000000":100.0,"1359590400000":100.0,"1362009600000":100.0,"1364688000000":100.0,"1367280000000":100.0,"1369958400000":100.0,"1372550400000":100.0,"1375228800000":100.0,"1377907200000":100.0,"1380499200000":100.0,"1383177600000":100.0,"1385769600000":100.0,"1388448000000":100.0,"1391126400000":100.0,"1393545600000":100.0,"1396224000000":100.0,"1398816000000":100.0,"1401494400000":100.0,"1404086400000":100.0,"1406764800000":100.0,"1409443200000":100.0,"1412035200000":100.0,"1414713600000":100.0,"1417305600000":100.0,"1419984000000":100.0,"1422662400000":100.0,"1425081600000":99.8500749625,"1427760000000":99.8626373626,"1430352000000":99.8709677419,"1433030400000":99.8768472906,"1435622400000":99.8824911868,"1438300800000":99.8877665544,"1440979200000":99.8939554613,"1443571200000":99.8984771574,"1446249600000":99.9042145594,"1448841600000":99.9086757991,"1451520000000":99.9122036874,"1454198400000":99.9152542373,"1456704000000":99.9191592563,"1459382400000":99.9213836478,"1461974400000":99.9244142101,"1464652800000":99.9270605398,"1467244800000":99.9298737728,"1469923200000":99.9320652174,"1472601600000":99.9341672153,"1475193600000":99.8722860792,"1477872000000":96.3167587477,"1480464000000":93.3884297521,"1483142400000":90.3189066059,"1485820800000":87.1468144044,"1488240000000":85.4054054054,"1490918400000":83.1243469175,"1493510400000":80.5894308943,"1496188800000":79.1274169559,"1498780800000":79.5928259816,"1501459200000":79.0399239544,"1504137600000":78.8300835655,"1506729600000":78.7602552416,"1509408000000":78.3288650581,"1512000000000":77.8359511344,"1514678400000":78.104993598,"1517356800000":77.7498954412,"1519776000000":77.3941635841,"1522454400000":77.1704180064,"1525046400000":76.7688679245,"1527724800000":76.8311488049,"1530316800000":76.8909160015,"1532995200000":76.8681937664,"1535673600000":76.3791188449,"1538265600000":75.8823529412,"1540944000000":75.0996737949,"1543536000000":75.3297682709,"1546214400000":74.8589562764,"1548892800000":74.2560553633,"1551312000000":73.8938053097,"1553990400000":73.5855373284,"1556582400000":73.3134920635,"1559260800000":73.3138780804,"1561852800000":73.1699554424,"1564531200000":73.3124018838,"1567209600000":73.4345939244,"1569801600000":72.968845449,"1572480000000":72.4624624625,"1575072000000":72.049689441,"1577750400000":72.1263527347,"1580428800000":72.4108170311,"1582934400000":72.6082004556,"1585612800000":72.2938867078,"1588204800000":71.9505494505,"1590883200000":71.5208613728,"1593475200000":71.329787234,"1596153600000":71.4734362732,"1598832000000":70.946989192,"1601424000000":71.0992907801,"1604102400000":70.8582834331,"1606694400000":70.4489393192,"1609372800000":70.1514411334,"1612051200000":69.9255344703,"1614470400000":69.7916666667,"1617148800000":69.4612169066,"1619740800000":69.604932633,"1622419200000":69.358456707,"1625011200000":69.2324658139,"1627689600000":68.7228496959,"1630368000000":68.7673574023,"1632960000000":68.4066512313,"1635638400000":68.0290456432,"1638230400000":67.7837171053,"1640908800000":67.4493927126,"1643587200000":66.9713831479,"1646006400000":66.5881429132,"1648684800000":66.2718446602,"1651276800000":65.8181818182,"1653955200000":65.4977375566,"1656547200000":65.1495448635,"1659225600000":64.9771271729,"1661904000000":64.687893506,"1664496000000":64.6061462381,"1667174400000":64.3502432245,"1669766400000":64.144793275,"1672444800000":63.7933954276,"1675123200000":63.4608985025,"1677542400000":63.3327876903,"1680220800000":63.0375261717,"1682812800000":62.9206349206,"1685491200000":62.8074573085,"1688083200000":62.6356589147,"1690761600000":62.5688916105,"1693440000000":62.4241504854,"1696032000000":62.1747631223,"1698710400000":62.0889748549,"1701302400000":62.0867768595,"1703980800000":61.892208553,"1706659200000":61.74291939,"1709164800000":61.8236906651,"1711843200000":61.6109682948,"1714435200000":61.5712459156,"1717113600000":61.9267337808,"1719705600000":62.2326479923,"1722384000000":62.6102292769,"1725062400000":62.6899798252},"yarn_v3":{"1256947200000":0.0,"1259539200000":0.0,"1262217600000":0.0,"1264896000000":0.0,"1267315200000":0.0,"1269993600000":0.0,"1272585600000":0.0,"1275264000000":0.0,"1277856000000":0.0,"1280534400000":0.0,"1283212800000":0.0,"1285804800000":0.0,"1288483200000":0.0,"1291075200000":0.0,"1293753600000":0.0,"1296432000000":0.0,"1298851200000":0.0,"1301529600000":0.0,"1304121600000":0.0,"1306800000000":0.0,"1309392000000":0.0,"1312070400000":0.0,"1314748800000":0.0,"1317340800000":0.0,"1320019200000":0.0,"1322611200000":0.0,"1325289600000":0.0,"1327968000000":0.0,"1330473600000":0.0,"1333152000000":0.0,"1335744000000":0.0,"1338422400000":0.0,"1341014400000":0.0,"1343692800000":0.0,"1346371200000":0.0,"1348963200000":0.0,"1351641600000":0.0,"1354233600000":0.0,"1356912000000":0.0,"1359590400000":0.0,"1362009600000":0.0,"1364688000000":0.0,"1367280000000":0.0,"1369958400000":0.0,"1372550400000":0.0,"1375228800000":0.0,"1377907200000":0.0,"1380499200000":0.0,"1383177600000":0.0,"1385769600000":0.0,"1388448000000":0.0,"1391126400000":0.0,"1393545600000":0.0,"1396224000000":0.0,"1398816000000":0.0,"1401494400000":0.0,"1404086400000":0.0,"1406764800000":0.0,"1409443200000":0.0,"1412035200000":0.0,"1414713600000":0.0,"1417305600000":0.0,"1419984000000":0.0,"1422662400000":0.0,"1425081600000":0.0,"1427760000000":0.0,"1430352000000":0.0,"1433030400000":0.0,"1435622400000":0.0,"1438300800000":0.0,"1440979200000":0.0,"1443571200000":0.0,"1446249600000":0.0,"1448841600000":0.0,"1451520000000":0.0,"1454198400000":0.0,"1456704000000":0.0,"1459382400000":0.0,"1461974400000":0.0,"1464652800000":0.0,"1467244800000":0.0,"1469923200000":0.0,"1472601600000":0.0,"1475193600000":0.0,"1477872000000":0.0,"1480464000000":0.0,"1483142400000":0.0,"1485820800000":0.0,"1488240000000":0.0,"1490918400000":0.0,"1493510400000":0.0,"1496188800000":0.0,"1498780800000":0.0,"1501459200000":0.0,"1504137600000":0.0,"1506729600000":0.0,"1509408000000":0.0,"1512000000000":0.0,"1514678400000":0.0,"1517356800000":0.0,"1519776000000":0.0,"1522454400000":0.0,"1525046400000":0.0,"1527724800000":0.0,"1530316800000":0.0,"1532995200000":0.0,"1535673600000":0.0,"1538265600000":0.0,"1540944000000":0.0,"1543536000000":0.0,"1546214400000":0.0,"1548892800000":0.0,"1551312000000":0.0,"1553990400000":0.0,"1556582400000":0.0,"1559260800000":0.0,"1561852800000":0.0,"1564531200000":0.0,"1567209600000":0.0,"1569801600000":0.0,"1572480000000":0.0,"1575072000000":0.0,"1577750400000":0.0,"1580428800000":0.0,"1582934400000":0.0,"1585612800000":0.0,"1588204800000":0.0,"1590883200000":0.0,"1593475200000":0.0,"1596153600000":0.0,"1598832000000":0.0,"1601424000000":0.0,"1604102400000":0.0,"1606694400000":0.0,"1609372800000":0.0,"1612051200000":0.0,"1614470400000":0.0,"1617148800000":0.0,"1619740800000":0.0,"1622419200000":0.0,"1625011200000":0.0,"1627689600000":0.0,"1630368000000":0.0854518265,"1632960000000":0.1894338034,"1635638400000":0.3941908714,"1638230400000":0.4934210526,"1640908800000":0.6275303644,"1643587200000":0.6955484897,"1646006400000":0.765606596,"1648684800000":0.8155339806,"1651276800000":0.8421052632,"1653955200000":0.9615384615,"1656547200000":1.0031580903,"1659225600000":1.0430009149,"1661904000000":1.1153085087,"1664496000000":1.1126810314,"1667174400000":1.1640027797,"1669766400000":1.1665808887,"1672444800000":1.1515664691,"1675123200000":1.2146422629,"1677542400000":1.1949582583,"1680220800000":1.3206635529,"1682812800000":1.3174603175,"1685491200000":1.3473288422,"1688083200000":1.3798449612,"1690761600000":1.3778322107,"1693440000000":1.380461165,"1696032000000":1.3535870056,"1698710400000":1.1456628478,"1701302400000":0.9445100354,"1703980800000":0.8640890451,"1706659200000":0.7843137255,"1709164800000":0.7791083538,"1711843200000":0.7569265924,"1714435200000":0.6819150448,"1717113600000":0.6711409396,"1719705600000":0.6347454119,"1722384000000":0.637633971,"1725062400000":0.6052454607},"pnpm":{"1256947200000":0.0,"1259539200000":0.0,"1262217600000":0.0,"1264896000000":0.0,"1267315200000":0.0,"1269993600000":0.0,"1272585600000":0.0,"1275264000000":0.0,"1277856000000":0.0,"1280534400000":0.0,"1283212800000":0.0,"1285804800000":0.0,"1288483200000":0.0,"1291075200000":0.0,"1293753600000":0.0,"1296432000000":0.0,"1298851200000":0.0,"1301529600000":0.0,"1304121600000":0.0,"1306800000000":0.0,"1309392000000":0.0,"1312070400000":0.0,"1314748800000":0.0,"1317340800000":0.0,"1320019200000":0.0,"1322611200000":0.0,"1325289600000":0.0,"1327968000000":0.0,"1330473600000":0.0,"1333152000000":0.0,"1335744000000":0.0,"1338422400000":0.0,"1341014400000":0.0,"1343692800000":0.0,"1346371200000":0.0,"1348963200000":0.0,"1351641600000":0.0,"1354233600000":0.0,"1356912000000":0.0,"1359590400000":0.0,"1362009600000":0.0,"1364688000000":0.0,"1367280000000":0.0,"1369958400000":0.0,"1372550400000":0.0,"1375228800000":0.0,"1377907200000":0.0,"1380499200000":0.0,"1383177600000":0.0,"1385769600000":0.0,"1388448000000":0.0,"1391126400000":0.0,"1393545600000":0.0,"1396224000000":0.0,"1398816000000":0.0,"1401494400000":0.0,"1404086400000":0.0,"1406764800000":0.0,"1409443200000":0.0,"1412035200000":0.0,"1414713600000":0.0,"1417305600000":0.0,"1419984000000":0.0,"1422662400000":0.0,"1425081600000":0.0,"1427760000000":0.0,"1430352000000":0.0,"1433030400000":0.0,"1435622400000":0.0,"1438300800000":0.0,"1440979200000":0.0,"1443571200000":0.0,"1446249600000":0.0,"1448841600000":0.0,"1451520000000":0.0,"1454198400000":0.0,"1456704000000":0.0,"1459382400000":0.0,"1461974400000":0.0,"1464652800000":0.0,"1467244800000":0.0,"1469923200000":0.0,"1472601600000":0.0,"1475193600000":0.0,"1477872000000":0.0,"1480464000000":0.0,"1483142400000":0.0,"1485820800000":0.0,"1488240000000":0.0,"1490918400000":0.0,"1493510400000":0.0,"1496188800000":0.0,"1498780800000":0.0,"1501459200000":0.0,"1504137600000":0.0,"1506729600000":0.0,"1509408000000":0.0,"1512000000000":0.0,"1514678400000":0.0,"1517356800000":0.0,"1519776000000":0.0,"1522454400000":0.0,"1525046400000":0.0,"1527724800000":0.0,"1530316800000":0.0,"1532995200000":0.0,"1535673600000":0.0,"1538265600000":0.0,"1540944000000":0.0,"1543536000000":0.0,"1546214400000":0.0,"1548892800000":0.0,"1551312000000":0.0,"1553990400000":0.0669568129,"1556582400000":0.0330687831,"1559260800000":0.0324254215,"1561852800000":0.0318268619,"1564531200000":0.0313971743,"1567209600000":0.0309981401,"1569801600000":0.0610873549,"1572480000000":0.03003003,"1575072000000":0.0295770482,"1577750400000":0.0292483182,"1580428800000":0.0575373993,"1582934400000":0.0569476082,"1585612800000":0.0560852496,"1588204800000":0.0824175824,"1590883200000":0.0807537012,"1593475200000":0.079787234,"1596153600000":0.1308557969,"1598832000000":0.2058672156,"1601424000000":0.1773049645,"1604102400000":0.249500998,"1606694400000":0.3206709423,"1609372800000":0.3663898388,"1612051200000":0.4564016334,"1614470400000":0.5918560606,"1617148800000":0.8824895495,"1619740800000":0.9362868235,"1622419200000":1.1664423508,"1625011200000":1.1248345831,"1627689600000":1.4118158123,"1630368000000":1.6235847041,"1632960000000":1.831193433,"1635638400000":2.0746887967,"1638230400000":2.2820723684,"1640908800000":2.6923076923,"1643587200000":3.1200317965,"1646006400000":3.4157832744,"1648684800000":3.8834951456,"1651276800000":4.4210526316,"1653955200000":5.0716440422,"1656547200000":5.5359464982,"1659225600000":6.2214089661,"1661904000000":6.8177729808,"1664496000000":7.3648887319,"1667174400000":7.9221681723,"1669766400000":8.3890890376,"1672444800000":9.0601185436,"1675123200000":9.6505823627,"1677542400000":10.1162219676,"1680220800000":10.8713158319,"1682812800000":11.3968253968,"1685491200000":11.8909603635,"1688083200000":12.2945736434,"1690761600000":12.7372933252,"1693440000000":13.015776699,"1696032000000":13.2651526545,"1698710400000":13.5545305758,"1701302400000":13.8577331759,"1703980800000":14.1622729936,"1706659200000":14.5098039216,"1709164800000":14.6443514644,"1711843200000":15.0956869466,"1714435200000":15.2578491263,"1717113600000":15.3243847875,"1719705600000":15.3580792052,"1722384000000":15.2760819427,"1725062400000":15.2656355077},"yarn_v4":{"1256947200000":0.0,"1259539200000":0.0,"1262217600000":0.0,"1264896000000":0.0,"1267315200000":0.0,"1269993600000":0.0,"1272585600000":0.0,"1275264000000":0.0,"1277856000000":0.0,"1280534400000":0.0,"1283212800000":0.0,"1285804800000":0.0,"1288483200000":0.0,"1291075200000":0.0,"1293753600000":0.0,"1296432000000":0.0,"1298851200000":0.0,"1301529600000":0.0,"1304121600000":0.0,"1306800000000":0.0,"1309392000000":0.0,"1312070400000":0.0,"1314748800000":0.0,"1317340800000":0.0,"1320019200000":0.0,"1322611200000":0.0,"1325289600000":0.0,"1327968000000":0.0,"1330473600000":0.0,"1333152000000":0.0,"1335744000000":0.0,"1338422400000":0.0,"1341014400000":0.0,"1343692800000":0.0,"1346371200000":0.0,"1348963200000":0.0,"1351641600000":0.0,"1354233600000":0.0,"1356912000000":0.0,"1359590400000":0.0,"1362009600000":0.0,"1364688000000":0.0,"1367280000000":0.0,"1369958400000":0.0,"1372550400000":0.0,"1375228800000":0.0,"1377907200000":0.0,"1380499200000":0.0,"1383177600000":0.0,"1385769600000":0.0,"1388448000000":0.0,"1391126400000":0.0,"1393545600000":0.0,"1396224000000":0.0,"1398816000000":0.0,"1401494400000":0.0,"1404086400000":0.0,"1406764800000":0.0,"1409443200000":0.0,"1412035200000":0.0,"1414713600000":0.0,"1417305600000":0.0,"1419984000000":0.0,"1422662400000":0.0,"1425081600000":0.0,"1427760000000":0.0,"1430352000000":0.0,"1433030400000":0.0,"1435622400000":0.0,"1438300800000":0.0,"1440979200000":0.0,"1443571200000":0.0,"1446249600000":0.0,"1448841600000":0.0,"1451520000000":0.0,"1454198400000":0.0,"1456704000000":0.0,"1459382400000":0.0,"1461974400000":0.0,"1464652800000":0.0,"1467244800000":0.0,"1469923200000":0.0,"1472601600000":0.0,"1475193600000":0.0,"1477872000000":0.0,"1480464000000":0.0,"1483142400000":0.0,"1485820800000":0.0,"1488240000000":0.0,"1490918400000":0.0,"1493510400000":0.0,"1496188800000":0.0,"1498780800000":0.0,"1501459200000":0.0,"1504137600000":0.0,"1506729600000":0.0,"1509408000000":0.0,"1512000000000":0.0,"1514678400000":0.0,"1517356800000":0.0,"1519776000000":0.0,"1522454400000":0.0,"1525046400000":0.0,"1527724800000":0.0,"1530316800000":0.0,"1532995200000":0.0,"1535673600000":0.0,"1538265600000":0.0,"1540944000000":0.0,"1543536000000":0.0,"1546214400000":0.0,"1548892800000":0.0,"1551312000000":0.0,"1553990400000":0.0,"1556582400000":0.0,"1559260800000":0.0,"1561852800000":0.0,"1564531200000":0.0,"1567209600000":0.0,"1569801600000":0.0,"1572480000000":0.0,"1575072000000":0.0,"1577750400000":0.0,"1580428800000":0.0,"1582934400000":0.0,"1585612800000":0.0,"1588204800000":0.0,"1590883200000":0.0,"1593475200000":0.0,"1596153600000":0.0,"1598832000000":0.0,"1601424000000":0.0,"1604102400000":0.0,"1606694400000":0.0,"1609372800000":0.0,"1612051200000":0.0,"1614470400000":0.0,"1617148800000":0.0,"1619740800000":0.0,"1622419200000":0.0,"1625011200000":0.0,"1627689600000":0.0,"1630368000000":0.0,"1632960000000":0.0,"1635638400000":0.0,"1638230400000":0.0,"1640908800000":0.0,"1643587200000":0.0,"1646006400000":0.0,"1648684800000":0.0,"1651276800000":0.0,"1653955200000":0.0377073906,"1656547200000":0.0743080067,"1659225600000":0.0731930467,"1661904000000":0.0719553877,"1664496000000":0.0706464147,"1667174400000":0.0694927033,"1669766400000":0.0857780065,"1672444800000":0.0846740051,"1675123200000":0.0831946755,"1677542400000":0.081846456,"1680220800000":0.0805282654,"1682812800000":0.0793650794,"1685491200000":0.0783330722,"1688083200000":0.0930232558,"1690761600000":0.0918554807,"1693440000000":0.1061893204,"1696032000000":0.1052789893,"1698710400000":0.3273322422,"1701302400000":0.6641086187,"1703980800000":0.8494434681,"1706659200000":0.929557008,"1709164800000":0.9233876785,"1711843200000":1.0139960011,"1714435200000":1.051285694,"1717113600000":1.062639821,"1719705600000":1.1039050642,"1722384000000":1.1124677791,"1725062400000":1.2104909213}};

    (async function() {
        const data = {
            // labels: labels,
            datasets: [
                {
                    label: 'npm',
                    data: Object.keys(inputData.npm).map((val: string) => ({
                        x: Number(val),
                        // @ts-expect-error
                        y: inputData.npm[val]
                    })),
                    fill: false,
                    borderColor: '#be123c',
                    borderWidth: 2,
                    tension: 0
                },
                {
                    label: 'pnpm',
                    data: Object.keys(inputData.pnpm).map((val: string) => ({
                        x: Number(val),
                        // @ts-expect-error
                        y: inputData.pnpm[val]
                    })),
                    fill: false,
                    borderColor: '#eab308',
                    borderWidth: 2,
                    tension: 0
                },
                {
                    label: 'yarn v1',
                    data: Object.keys(inputData.yarn_v1).map((val: string) => ({
                        x: Number(val),
                        // @ts-expect-error
                        y: inputData.yarn_v1[val]
                    })),
                    fill: false,
                    borderColor: '#15803d',
                    borderWidth: 2,
                    tension: 0,
                },
                {
                    label: 'yarn v3',
                    data: Object.keys(inputData.yarn_v3).map((val: string) => ({
                        x: Number(val),
                        // @ts-expect-error
                        y: inputData.yarn_v3[val]
                    })),
                    fill: true,
                    borderColor: '#4338ca',
                    borderWidth: 2,
                    tension: 0,
                },
                {
                    label: 'yarn v4',
                    data: Object.keys(inputData.yarn_v4).map((val: string) => ({
                        x: Number(val),
                        // @ts-expect-error
                        y: inputData.yarn_v4[val]
                    })),
                    borderColor: '#7e22ce',
                    borderWidth: 2,
                    tension: 0,
                },
                {
                    label: 'bun',
                    data: Object.keys(inputData.bun).map((val: string) => ({
                        x: Number(val),
                        // @ts-expect-error
                        y: inputData.bun[val]
                    })),
                    borderColor: '#c2410c',
                    borderWidth: 2,
                    tension: 0,
                }
            ]
        };

        const chartElement = document.getElementById('line_chart');
        
        if (chartElement && chartElement instanceof HTMLCanvasElement) {
            chart = new Chart(
                chartElement,
                {
                    type: 'line',
                    data: data,
                    options: {
                        interaction: {
                            mode: 'index',
                            intersect: false
                        },
                        responsive: true,
                        plugins: {
                            legend: {
                                position: 'bottom',

                            },
                            tooltip: {
                                callbacks: {
                                    label: (item) =>
                                        `${item.dataset.label}: ${parseToShortestNumber(Number(item.formattedValue))}%`,
                                    title: (item) => {
                                        const date = new Date(item[0].label);

                                        return date.toLocaleDateString('en-UK', {
                                            month: 'long',
                                            year: 'numeric'
                                        })
                                    }
                                },
                                position: 'nearest',
                                padding: 12,
                                backgroundColor: '#27272a',
                                borderWidth: 1,
                                borderColor: '#18181b',
                            },
                        },
                        scales: {
                            x: {
                                type: 'time',
                            }
                        },
                        elements: {
                            point: {
                                pointStyle: false
                            }
                        }
                    },
                }
            );
        }
    })();

    document.fonts.onloadingdone = () => {
        chart.update();
    };
</script>

<figure class="bg-zinc-900 p-6 pt-4 rounded my-8 w-full">
    <figcaption class="text-white text-xl text-center font-bold mb-8">{title}</figcaption>

    <canvas id="line_chart"></canvas>
</figure>