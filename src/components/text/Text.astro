---
import { PortableText } from 'astro-portabletext'
import CodeBlock from './blocks/CodeBlock.astro'
import Graph from './blocks/Graph.astro'
import Hr from './blocks/Hr.astro'
import Image from './blocks/Image.astro'
import TerminalRecording from './blocks/TerminalRecording.astro'

interface Props {
  content: any
}

const { content } = Astro.props
---
<article class="text grid grid-cols-6">
  <PortableText
    value={content}
    components={{
      type: {
        break: Hr,
        image: Image,
        codeBlock: CodeBlock,
        graphBlock: Graph,
        terminalRecordingBlock: TerminalRecording,
      },
    }}
    onMissingComponent={(type) => {
      if (import.meta.env.DEV) {
        console.warn(`Component not found: ${type}`)
      }
      
      return null
    }}
  />
</article>
