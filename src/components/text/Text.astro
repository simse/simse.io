---
import { PortableText } from 'astro-portabletext'
import CodeBlock from './blocks/CodeBlock.astro'
import Graph from './blocks/Graph.astro'
import Hr from './blocks/Hr.astro'
import Image from './blocks/Image.astro'

interface TextProps {
  content: any
}

const { content } = Astro.props
---

<article class="text">
  <PortableText
    value={content}
    components={{
      type: {
        break: Hr,
        image: Image,
        codeBlock: CodeBlock,
        graphBlock: Graph,
      },
    }}
    onMissingComponent={(type) => {
      console.warn(`Component not found: ${type}`)
      return null
    }}
  />
</article>
