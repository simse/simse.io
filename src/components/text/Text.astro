---
import { PortableText } from "astro-portabletext";
import Hr from "./blocks/Hr.astro";
import Image from "./blocks/Image.astro";
import CodeBlock from "./blocks/CodeBlock.astro";

interface TextProps {
  content: any;
}

const { content }: TextProps = Astro.props;
---

<article class="text">
  <PortableText
    value={content}
    components={{
      type: {
        break: Hr,
        image: Image,
        codeBlock: CodeBlock,
      },
    }}
    onMissingComponent={(type) => {
      console.warn(`Component not found: ${type}`);
      return null;
    }}
  />
</article>
