---
import BlogCard from '@components/blog/BlogCard.svelte'
import SectionHeader from '@components/common/SectionHeader.svelte'
import client from '@lib/client'

// fetch all posts
const postsRequest = await client.api.posts.get()
const posts = postsRequest.data
---

{posts && (
<section class="my-16 max-w-xl mx-auto">
  <SectionHeader title="Latest Blog Posts" href="/blog" />

  <ul> 
    {posts.slice(0, 2).map((post) => <BlogCard post={post} />)}
  </ul>
</section>
)}
